**REST API сервис для работы с заметками.**  
**Добавлена интеграция с [Яндекс.Спеллер](https://yandex.ru/dev/speller/) для проверки орфографических ошибок текста заметки при её сохранении**

## Оглавление

**[ЧАСТЬ 1: Авторизация](#auth)**  
**[ЧАСТЬ 2: Формат данных](#format)**  
**[ЧАСТЬ 3: API](#api)**  
&emsp;**[3.1 Пользователь](#user)**  
&emsp;&emsp;**[3.1.1 Добавление нового пользователя](#user-add)**  
&emsp;**[3.2 Заметка](#note)**  
&emsp;&emsp;**[3.2.1 Добавление новой заметки](#note-add)**  
&emsp;&emsp;**[3.2.2 Получить все заметки пользователя](#note-get-all-by-user)**  
**[ЧАСТЬ 4: Запуск](#start)**  
**[ЧАСТЬ 5: Тестирование](#testing)**  


## <a name="auth">ЧАСТЬ 1: Авторизация</a>

Используется Basic Auth


## <a name="format">ЧАСТЬ 2: Формат данных</a>

**ФОРМАТ ВХОДНЫХ И ВЫХОДНЫХ ДАННЫХ:** `JSON`  


## <a name="api">ЧАСТЬ 3: API</a>  

#### <a name="user">3.1 Пользователь</a>  

#### <a name="user-add">3.1.1 Добавление нового пользователя</a>  

**URL:** http://localhost:9090/auth/sign-up  

**METHOD:** POST  

**Headers:**  
&emsp;`Content-type: application/json`  

**Request body:**

```json
{
  "email": "user@example.com",  //string, почта пользователя
  "password": "p@s$w0RdT#sst"   //string, пароль пользователя
}  
```

**Response body:**

```json
{
    "result": {
        "created": "2024-09-18T14:55:08.240538Z", //time.Time, дата создания
        "email": "user1@test.com",                //string, почта пользователя
        "id": 1                                   // int, идентификатор пользователя
    }
}
```

**Статус-коды:**  
&emsp;`201` – успешно создано,  
&emsp;`400` – ошибка входных данных,  
&emsp;`401` - не авторизованный пользователь,  
&emsp;`403` - нет прав на выполнение операции,  
&emsp;`500` – сервер не доступен (ошибка железа),  
&emsp;`503` – сервер не доступен (ошибка сервиса).


#### <a name="note">3.2 Заметка</a>  

#### <a name="note-add">3.2.1 Добавление новой заметки</a>  

**URL:** http://localhost:9090/create_note  

**METHOD:** POST  

**Headers:**  
&emsp;`Content-type: application/json`  
&emsp;`Authorization: Basic Auth`

**Request Body:**

```json
{
  "description": "Первоя заметка для истории"   //string, текст заметки
}  
```

  **Response Body:**

```json
{
    "result": {
        "created": "2024-09-18T14:56:51.271726Z",   //time.Time, дата создания
        "description": "Первая заметка для истории", //string, текст заметки
        "userId": 1,                                //int, идентификатор пользователя
        "id": 1                                     //int, идентификатор заметки
    }
}
```


**Статус-коды:**  
&emsp;`201` – успешно создано,  
&emsp;`400` – ошибка входных данных,  
&emsp;`401` - не авторизованный клиент,  
&emsp;`403` - нет прав на выполнение операции,  
&emsp;`500` – сервер не доступен(ошибка железа),  
&emsp;`503` – сервер не доступен (ошибка сервиса).


#### <a name="note-get-all-by-user">3.2.2 Получить все заметки пользователя</a>  

**URL:** http://localhost:9090/notes  

**METHOD:** GET  

**Headers:**  
&emsp;`Authorization: Basic Auth`

**Response body:**  

```json
[
{
    "result": {
        "created": "2024-09-18T14:56:51.271726Z",   //time.Time, дата создания
        "description": "Первая заметка для истории", //string, текст заметки
        "userId": 1,                                //int, идентификатор пользователя
        "id": 1                                     //int, идентификатор заметки
    }
}
]
```

**Статус-коды:**  
&emsp;`200` – успешно,  
&emsp;`400` – ошибка входных данных,  
&emsp;`401` - не авторизованный клиент,  
&emsp;`403` - нет прав на выполнение операции,  
&emsp;`500` – сервер не доступен(ошибка железа),  
&emsp;`503` – сервер не доступен (ошибка сервиса).


## <a name="start">ЧАСТЬ 4: Запуск</a>

Клонируем репозиторий:
```
git clone https://github.com/MarinDmitrii/notes-service
```

Переходим в папку проекта:
```
cd notes-service
```

Для запуска контейнеров выполняем команду из корневой папки проекта 
```
make run
```
или, в случае отсутствия утилиты Make
```
docker-compose up --build -d
```

Для запуска сервера выполняем команду из корневой папки проекта 
```
go run /cmd/httpserver/main.go
```


## <a name="testing">ЧАСТЬ 5: Тестирование</a>

Коллекция Postman лежит в папке postman
